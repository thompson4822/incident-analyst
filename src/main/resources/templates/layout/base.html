<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Incident Analyst</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
       href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Literata:wght@400;500;600&display=swap"
       rel="stylesheet"
     />
    <script src="https://cdn.tailwindcss.com"></script>
    <link
       href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css"
       rel="stylesheet"
       type="text/css"
     />
    <script src="https://unpkg.com/htmx.org@1.9.12"></script>
    <style>
      :root {
        --ink: #1f2933;
        --muted: #6b7280;
        --surface: #f7f3ee;
        --accent: #0f766e;
        --accent-soft: #ccfbf1;
        --sunset: #f97316;
      }
      body {
        font-family: "Literata", serif;
        color: var(--ink);
        background: radial-gradient(circle at 10% 20%, #fff7ed 0%, #f7f3ee 45%, #ecfeff 100%);
        min-height: 100vh;
      }
      h1, h2, h3, h4 {
        font-family: "Space Grotesk", sans-serif;
      }

      /* HTMX Transition Effects */
      .htmx-swapping {
        opacity: 0.5;
        transition: opacity 150ms ease-out;
      }
      .htmx-settling {
        opacity: 1;
        transition: opacity 150ms ease-in;
      }

      /* Dashboard Grid Layout */
      .dashboard-grid {
        display: grid;
        grid-template-columns: 1fr 1fr 350px;
        gap: 1.5rem;
        min-height: calc(100vh - 200px);
      }
      @media (max-width: 1280px) {
        .dashboard-grid {
          grid-template-columns: 1fr 1fr;
        }
      }
      @media (max-width: 1024px) {
        .dashboard-grid {
          grid-template-columns: 1fr;
        }
      }

      /* Compact Table Styling */
      .table-compact {
        font-size: 0.875rem;
      }
      .table-compact th,
      .table-compact td {
        padding: 0.5rem 0.75rem;
      }

      /* Status Indicator Pulse */
      .status-pulse {
        animation: pulse 2s infinite;
      }
      @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.5; }
      }

      /* Step Progress Line */
      .step-line {
        position: absolute;
        left: 1rem;
        top: 2.5rem;
        bottom: 0.5rem;
        width: 2px;
        background: #e5e7eb;
      }
    </style>
  </head>
  <body>
    <div class="min-h-screen">
      {#include layout/navbar /}
      <main class="mx-auto max-w-6xl px-6 pb-16 pt-10">
        {#insert body}{/insert}
      </main>
    </div>

    <!-- Toast Container -->
    <div id="toast-container" class="toast toast-end toast-bottom z-[100]"></div>

    <script>
      document.body.addEventListener('show-toast', function(evt) {
        const toastContainer = document.getElementById('toast-container');
        const toast = document.createElement('div');
        const alertClass = evt.detail.type === 'success' ? 'alert-success' : 
                          evt.detail.type === 'error' ? 'alert-error' : 'alert-info';
        
        toast.className = "alert " + alertClass + " shadow-lg mb-2 transition-all duration-300 transform translate-y-10 opacity-0";
        toast.innerHTML = "<div><span>" + evt.detail.message + "</span></div>";
        
        toastContainer.appendChild(toast);
        
        // Animate in
        setTimeout(() => {
          toast.classList.remove('translate-y-10', 'opacity-0');
        }, 10);
        
        // Auto-remove
        setTimeout(() => {
          toast.classList.add('translate-y-10', 'opacity-0');
          setTimeout(() => {
            toast.remove();
          }, 300);
        }, 5000);
      });
    </script>
  </body>
</html>
